<app-arch>
  <form (submit)="handleFilter()" class="search">
    <input
      class="search-input"
      placeholder="Search by clinic name/insurance ..."
      type="text"
      i18n-placeholder
      [formControl]="searchControl"
    />
    <div class="search-icons">
      <button class="search-submit">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="search-icon"
          viewBox="1.2 1.2 29.05 29.083"
        >
          <g data-name="search-normal">
            <path
              fill="transparent"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M26.212 14.417c0 6.514-5.281 11.795-11.795 11.795-6.515 0-11.796-5.281-11.796-11.795 0-6.515 5.281-11.796 11.796-11.796 6.514 0 11.795 5.281 11.795 11.796ZM24.81 27.116c.694 2.097 2.28 2.307 3.499.472 1.114-1.678.38-3.054-1.638-3.054-1.495-.013-2.333 1.153-1.861 2.582Z"
              data-name="Vector"
            />
          </g>
        </svg>
      </button>
    </div>
  </form>
  <mat-form-field appearance="fill" class="category-select">
    <mat-label>Category</mat-label>
    <mat-select
      [formControl]="categoryControl"
      (selectionChange)="handleFilter()"
    >
      <mat-option [value]="undefined"> All </mat-option>
      <mat-option *ngFor="let category of categories" [value]="category.id">
        <div class="category-option">
          <img
            *ngIf="category.iconPath; else defaultIcon"
            [src]="category.iconPath"
            class="category-icon"
            alt=""
          />
          {{ category.name }}
        </div>
      </mat-option>
    </mat-select>
  </mat-form-field>
</app-arch>
<div class="clinics-grid">
  <app-clinic-card
    *ngFor="let clinic of clinics"
    [clinic]="clinic"
  ></app-clinic-card>
</div>
<ng-template #defaultIcon>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="1048 23 24 24"
  >
    <path
      fill="currentColor"
      fill-rule="evenodd"
      d="M1060 47c-1.68 0-3.25-.32-4.71-.94a12.12 12.12 0 0 1-3.81-2.57 11.87 11.87 0 0 1-2.55-3.83 12.03 12.03 0 0 1-.93-4.72 11.82 11.82 0 0 1 3.48-8.49 11.71 11.71 0 0 1 3.81-2.54A12.1 12.1 0 0 1 1060 23a12.1 12.1 0 0 1 8.52 3.45 11.96 11.96 0 0 1 2.55 3.8c.62 1.44.93 3.01.93 4.69a12 12 0 0 1-.93 4.72 11.87 11.87 0 0 1-2.55 3.83 12.12 12.12 0 0 1-3.81 2.56 11.6 11.6 0 0 1-4.71.95Zm0-1.74a9.98 9.98 0 0 0 1.75-2.48c.48-.93.86-2.03 1.16-3.31h-5.79c.28 1.2.66 2.28 1.13 3.24a10.2 10.2 0 0 0 1.75 2.55Zm-2.55-.36c-.5-.76-.93-1.58-1.29-2.46-.36-.88-.66-1.87-.9-2.97h-4.5a10.76 10.76 0 0 0 2.64 3.35c1 .8 2.35 1.5 4.05 2.08Zm5.13-.03a12.01 12.01 0 0 0 3.89-2.07 10.74 10.74 0 0 0 2.77-3.33h-4.47a21.73 21.73 0 0 1-.91 2.94c-.35.88-.78 1.7-1.28 2.46Zm-12.42-7.2h4.77a16.86 16.86 0 0 1-.1-1.46 54.84 54.84 0 0 1 .01-2.6c.02-.4.06-.83.12-1.31h-4.8a8.75 8.75 0 0 0-.36 2.64 8.46 8.46 0 0 0 .36 2.73Zm6.63 0h6.45c.08-.62.13-1.13.15-1.52a23.74 23.74 0 0 0 0-2.37c-.02-.37-.07-.86-.15-1.48h-6.45c-.08.62-.13 1.11-.15 1.49a23.74 23.74 0 0 0 0 2.36c.02.4.07.9.15 1.52Zm8.25 0h4.8a8.46 8.46 0 0 0 .36-2.73 8.75 8.75 0 0 0-.36-2.64h-4.77a55.14 55.14 0 0 1 .15 2.64c0 .44-.01.85-.04 1.24l-.14 1.49Zm-.3-7.17h4.5a9.72 9.72 0 0 0-2.71-3.45 10.34 10.34 0 0 0-3.98-1.95c.5.74.93 1.54 1.28 2.4.35.86.65 1.86.91 3Zm-7.62 0h5.82a12.27 12.27 0 0 0-2.94-5.7 6.6 6.6 0 0 0-1.62 2.13c-.44.88-.86 2.07-1.26 3.57Zm-6.36 0h4.53a14.24 14.24 0 0 1 2.13-5.37c-1.5.38-2.81 1.02-3.93 1.92a10.2 10.2 0 0 0-2.73 3.45Z"
    />
  </svg>
</ng-template>
